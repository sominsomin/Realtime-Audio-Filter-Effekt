//https://www.w3.org/2011/audio/audio-eq-cookbook.html

History x1(0);
History x2(0);
History y1(0);
History y2(0);

x = in1;
Fs = 41000;
f = in2;
Q = in3;
w0 = 2*PI*f/Fs;
alpha = sin(w0)/(2*Q);

b0 = Q*alpha;
b1 = 0;
b2 = - sin(w0)/2;
a0 = 1 + alpha;
a1 = -2*cos(w0);
a2 = 1 - alpha;


y = b0/a0 * x + b1/a0 * x1 + b2/a0 * x2 - a1/a0 * y1 - a2/a0 * y2;


x2 = x1;
x1 = x;
y2 = y1;
y1 = y;



//out1 = y;